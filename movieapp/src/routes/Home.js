import { useState, useEffect } from "react";
import Movie from "../components/Movie";


function Home(){


    const url = "https://image.tmdb.org/t/p/original"
    const [loading, setLoading] = useState(true);
    const [movie, setMovies] = useState(0);
    const getMovies = async() =>{
    const json = await (
      await fetch(
        "https://api.themoviedb.org/3/movie/popular?api_key=5b41ed68d49a740584bf5c7ede5ccd07"
        )
    ).json();
    setMovies(json.results);
    setLoading(false);
    };
    useEffect(()=>{
        getMovies();
    },[]);
  const style ={
    width : "200px",
  };

  const navStyle ={
    fontSize: "14px",
    fontFamily: "Pretendard,Apple SD Gothic Neo,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif",
    border: "0",
    boxSizing: "border-box",
    margin: "0",
    outline: "none",
    padding: "0",
    textDecoration: "none",
    height: "100%",
    width: "100%",
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    position: "relative",
    backgroundColor: "#FFECE1",
  };


  return (
   <div>
      {loading ? <h1>Loading...</h1> : 
      <div>
        <div style={navStyle} className="sc-islFiG hWcGzZ">
          <svg width="80" height="23" viewBox="0 0 80 23" fill="none" xmlns="http://www.w3.org/2000/svg" className="sc-eAeVAz hOuTWu">
            <path fillRule="evenodd" clipRule="evenodd" d="M9.61983 4.80421C9.61983 7.4575 7.46635 9.60842 4.80991 9.60842C2.15347 9.60842 0 7.4575 0 4.80421C0 2.15092 2.15347 0 4.80991 0C7.46635 0 9.61983 2.15092 9.61983 4.80421ZM8.69895 13.1896C9.24809 13.9433 9.56587 14.8403 9.61355 15.7712C9.6175 15.8593 9.62014 15.9343 9.62014 16.0172C9.62031 17.5868 9.05059 19.1033 8.01663 20.2853C6.98268 21.4673 5.55466 22.2347 3.99737 22.4452C4.28144 21.9338 4.49462 21.3862 4.63105 20.8175C3.69847 20.7828 2.79612 20.4779 2.03399 19.94C1.27186 19.402 0.682872 18.6543 0.338815 17.7878C-0.00524174 16.9213 -0.0895066 15.9736 0.096291 15.0601C0.282089 14.1467 0.729924 13.3069 1.38521 12.6432C2.0405 11.9796 2.87493 11.5206 3.78681 11.3223C4.69868 11.1241 5.64861 11.195 6.52081 11.5266C7.39301 11.8582 8.1498 12.436 8.69895 13.1896ZM14.4684 3.88404H19.7565L21.7722 11.6121L24.1303 3.83272H28.5964L30.9849 11.6687L33.0598 3.88404H38.261L33.5183 19.3586H28.852L26.3502 11.3844L23.7931 19.3625H19.1597L14.4684 3.88404ZM45.4827 3.88434H40.0496V19.2496H45.4827V14.4797C45.4827 12.7006 45.8621 11.3966 46.6196 10.5636C46.7152 10.4586 46.8162 10.343 46.9226 10.2212C47.6595 9.37792 48.6552 8.23852 49.8973 8.23852H50.3519L50.3439 3.63301C49.0546 3.57687 48.031 3.86065 47.273 4.48437C46.48 5.15851 45.8652 6.01711 45.4827 6.98451V3.88434ZM59.1612 19.5629C57.5223 19.5629 56.2462 19.1747 55.3327 18.3984C54.4193 17.622 53.9617 16.3158 53.96 14.4797V8.23334H52.1406V3.88442H53.96V0H59.3904V3.88442H62.9712V8.22676H59.3904V13.4297C59.3904 13.9797 59.5134 14.3723 59.7593 14.6074C60.0056 14.8455 60.3745 14.9627 60.8686 14.9627C61.2248 14.9641 61.5794 14.9163 61.9225 14.8205C62.264 14.7264 62.5968 14.6031 62.9172 14.4521V18.6826C62.386 18.9621 61.8228 19.1764 61.2401 19.3208C60.56 19.4884 59.8616 19.5697 59.1612 19.5629ZM70.1904 3.88462H64.7613V19.2499H70.1904V10.9311C70.1895 10.0828 70.3999 9.43931 70.8215 9.00069C71.0294 8.7843 71.2804 8.61392 71.5585 8.50059C71.8365 8.38725 72.1352 8.33348 72.4353 8.34276C72.725 8.33269 73.0134 8.38642 73.28 8.50012C73.5466 8.61382 73.7849 8.78472 73.978 9.00069C74.3715 9.43668 74.5682 10.0801 74.5682 10.9311V19.2499H80V9.19939C79.9991 7.44315 79.5362 6.06325 78.6114 5.05969C77.6866 4.05612 76.3955 3.55434 74.7382 3.55434C74.2344 3.54869 73.7327 3.62059 73.2508 3.76751C72.818 3.90163 72.4031 4.08764 72.0151 4.32149C71.6469 4.54197 71.3075 4.80716 71.0046 5.11101C70.7128 5.40499 70.4408 5.71798 70.1904 6.0479V3.88462Z" fill="#717488"></path>
          </svg>
          <button  className="sc-kAuIVs kSehlF" >
            <svg width="34" height="32" viewBox="0 0 34 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M26 19.9661H8C7.73478 19.9661 7.48043 20.0732 7.29289 20.264C7.10536 20.4547 7 20.7133 7 20.9831C7 21.2528 7.10536 21.5114 7.29289 21.7021C7.48043 21.8929 7.73478 22 8 22H26C26.2652 22 26.5196 21.8929 26.7071 21.7021C26.8946 21.5114 27 21.2528 27 20.9831C27 20.7133 26.8946 20.4547 26.7071 20.264C26.5196 20.0732 26.2652 19.9661 26 19.9661ZM26 14.8814H8C7.73478 14.8814 7.48043 14.9885 7.29289 15.1792C7.10536 15.3699 7 15.6286 7 15.8983C7 16.168 7.10536 16.4267 7.29289 16.6174C7.48043 16.8081 7.73478 16.9153 8 16.9153H26C26.2652 16.9153 26.5196 16.8081 26.7071 16.6174C26.8946 16.4267 27 16.168 27 15.8983C27 15.6286 26.8946 15.3699 26.7071 15.1792C26.5196 14.9885 26.2652 14.8814 26 14.8814ZM26 10H8C7.73478 10 7.48043 10.1071 7.29289 10.2979C7.10536 10.4886 7 10.7472 7 11.0169C7 11.2867 7.10536 11.5453 7.29289 11.736C7.48043 11.9268 7.73478 12.0339 8 12.0339H26C26.2652 12.0339 26.5196 11.9268 26.7071 11.736C26.8946 11.5453 27 11.2867 27 11.0169C27 10.7472 26.8946 10.4886 26.7071 10.2979C26.5196 10.1071 26.2652 10 26 10Z" fill="#505467"></path>
            </svg>
          </button>
        </div>




        {movie.map((movie) => (
          <Movie 
          key={movie.id}
          id={movie.id}
          style= {style} 
          url={url} 
          poster_path={movie.poster_path} 
          title={movie.title} 
          overview={movie.overview} 
          release_date={movie.release_date} 
          vote_average={movie.vote_average} />
        ) )} {/*title*/}
      </div>} {/**/} 
   </div>
  );
};


export default Home;